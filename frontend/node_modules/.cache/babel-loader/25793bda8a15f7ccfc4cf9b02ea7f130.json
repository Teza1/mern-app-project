{"ast":null,"code":"import{useEffect}from'react';import{useNavigate}from'react-router-dom';import{useSelector,useDispatch}from'react-redux';import GoalForm from'../components/GoalForm';import GoalItem from'../components/GoalItem';import Spinner from'../components/Spinner';import{getGoals,reset}from'../features/goals/goalSlice';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Dashboard(){var navigate=useNavigate();var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.auth;}),user=_useSelector.user;var _useSelector2=useSelector(function(state){return state.goals;}),goals=_useSelector2.goals,isLoading=_useSelector2.isLoading,isError=_useSelector2.isError,message=_useSelector2.message;useEffect(function(){if(isError){console.log(message);}if(!user){navigate('/login');}dispatch(getGoals());return function(){dispatch(reset());};},[user,navigate,isError,message,dispatch]);if(isLoading){return/*#__PURE__*/_jsx(Spinner,{});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"section\",{className:\"heading\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Welcome \",user&&user.name]}),/*#__PURE__*/_jsx(\"p\",{children:\"Goals Dashboard\"})]}),/*#__PURE__*/_jsx(GoalForm,{}),/*#__PURE__*/_jsx(\"section\",{className:\"content\",children:goals.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"goals\",children:goals.map(function(goal){return/*#__PURE__*/_jsx(GoalItem,{goal:goal},goal._id);})}):/*#__PURE__*/_jsx(\"h3\",{children:\"You have not set any goals\"})})]});}export default Dashboard;","map":{"version":3,"names":["useEffect","useNavigate","useSelector","useDispatch","GoalForm","GoalItem","Spinner","getGoals","reset","Dashboard","navigate","dispatch","state","auth","user","goals","isLoading","isError","message","console","log","name","length","map","goal","_id"],"sources":["C:/Users/12bea/mongodb/mern-app-project/frontend/src/pages/Dashboard.jsx"],"sourcesContent":["import { useEffect } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { useSelector, useDispatch } from 'react-redux'\nimport GoalForm from '../components/GoalForm'\nimport GoalItem from '../components/GoalItem'\nimport Spinner from '../components/Spinner'\nimport { getGoals, reset } from '../features/goals/goalSlice'\n\nfunction Dashboard() {\n  const navigate = useNavigate()\n  const dispatch = useDispatch()\n\n  const { user } = useSelector((state) => state.auth)\n  const { goals, isLoading, isError, message } = useSelector(\n    (state) => state.goals\n  )\n\n  useEffect(() => {\n    if (isError) {\n      console.log(message)\n    }\n\n    if (!user) {\n      navigate('/login')\n    }\n\n    dispatch(getGoals())\n\n    return () => {\n      dispatch(reset())\n    }\n  }, [user, navigate, isError, message, dispatch])\n\n  if (isLoading) {\n    return <Spinner />\n  }\n\n  return (\n    <>\n      <section className='heading'>\n        <h1>Welcome {user && user.name}</h1>\n        <p>Goals Dashboard</p>\n      </section>\n\n      <GoalForm />\n\n      <section className='content'>\n        {goals.length > 0 ? (\n          <div className='goals'>\n            {goals.map((goal) => (\n              <GoalItem key={goal._id} goal={goal} />\n            ))}\n          </div>\n        ) : (\n          <h3>You have not set any goals</h3>\n        )}\n      </section>\n    </>\n  )\n}\n\nexport default Dashboard\n"],"mappings":"AAAA,OAASA,SAAT,KAA0B,OAA1B,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,MAAOC,SAAP,KAAqB,wBAArB,CACA,MAAOC,SAAP,KAAqB,wBAArB,CACA,MAAOC,QAAP,KAAoB,uBAApB,CACA,OAASC,QAAT,CAAmBC,KAAnB,KAAgC,6BAAhC,C,6IAEA,QAASC,UAAT,EAAqB,CACnB,GAAMC,SAAQ,CAAGT,WAAW,EAA5B,CACA,GAAMU,SAAQ,CAAGR,WAAW,EAA5B,CAEA,iBAAiBD,WAAW,CAAC,SAACU,KAAD,QAAWA,MAAK,CAACC,IAAjB,EAAD,CAA5B,CAAQC,IAAR,cAAQA,IAAR,CACA,kBAA+CZ,WAAW,CACxD,SAACU,KAAD,QAAWA,MAAK,CAACG,KAAjB,EADwD,CAA1D,CAAQA,KAAR,eAAQA,KAAR,CAAeC,SAAf,eAAeA,SAAf,CAA0BC,OAA1B,eAA0BA,OAA1B,CAAmCC,OAAnC,eAAmCA,OAAnC,CAIAlB,SAAS,CAAC,UAAM,CACd,GAAIiB,OAAJ,CAAa,CACXE,OAAO,CAACC,GAAR,CAAYF,OAAZ,EACD,CAED,GAAI,CAACJ,IAAL,CAAW,CACTJ,QAAQ,CAAC,QAAD,CAAR,CACD,CAEDC,QAAQ,CAACJ,QAAQ,EAAT,CAAR,CAEA,MAAO,WAAM,CACXI,QAAQ,CAACH,KAAK,EAAN,CAAR,CACD,CAFD,CAGD,CAdQ,CAcN,CAACM,IAAD,CAAOJ,QAAP,CAAiBO,OAAjB,CAA0BC,OAA1B,CAAmCP,QAAnC,CAdM,CAAT,CAgBA,GAAIK,SAAJ,CAAe,CACb,mBAAO,KAAC,OAAD,IAAP,CACD,CAED,mBACE,wCACE,iBAAS,SAAS,CAAC,SAAnB,wBACE,iCAAaF,IAAI,EAAIA,IAAI,CAACO,IAA1B,GADF,cAEE,sCAFF,GADF,cAME,KAAC,QAAD,IANF,cAQE,gBAAS,SAAS,CAAC,SAAnB,UACGN,KAAK,CAACO,MAAN,CAAe,CAAf,cACC,YAAK,SAAS,CAAC,OAAf,UACGP,KAAK,CAACQ,GAAN,CAAU,SAACC,IAAD,qBACT,KAAC,QAAD,EAAyB,IAAI,CAAEA,IAA/B,EAAeA,IAAI,CAACC,GAApB,CADS,EAAV,CADH,EADD,cAOC,kDARJ,EARF,GADF,CAsBD,CAED,cAAehB,UAAf"},"metadata":{},"sourceType":"module"}